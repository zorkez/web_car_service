<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–í—Ö–æ–¥</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul>
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <form method="POST">
        <input type="text" name="username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required><br>
        <div class="password-container">
            <input type="password" id="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å" required><br>
            <button type="button" id="togglePassword" class="toggle-password">üëÄ</button>
        </div>
        <button type="submit">–í–æ–π—Ç–∏</button>
    </form>
    <p class="centered-text">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="{{ url_for('auth.register') }}">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>

    <style>
        .centered-text {
            text-align: center;
            margin-top: 20px;
        }
    </style>
    <script>
        const togglePassword = document.getElementById("togglePassword");
        const passwordField = document.getElementById("password");

        togglePassword.addEventListener("click", function() {
            const type = passwordField.type === "password" ? "text" : "password";
            passwordField.type = type;
            this.textContent = type === "password" ? "üëÄ" : "üï∂Ô∏è";
        });
    </script>
</body>
</html>
